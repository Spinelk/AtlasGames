{% extends 'layouts/app.html' %}
{% block contenido %}

<main class="mt-5">
    <article class="container-xl my-5 p-0">
        <section
            class="text-white bg-moradoClaro rounded-3 p-3 mb-3 shadow-lg"
        >
            <h2 class="fs-4 fw-bold my-auto">Juega Gratis</h2>
        </section>

        <div class="row">
            <div id="carouselExample" class="carousel slide w-100">
                <div class="carousel-inner rounded-3 shadow-lg">

                    {% for videojuego in videojuegos_gratuitos %}
                        {% if forloop.counter <= 3 %}
                        <div
                            class="carousel-item {% if forloop.first %} active{% endif %}"
                        >
                            <a href="/videojuego/{{ videojuego.slug }}/">
                                <img
                                    src="{{ videojuego.foto_gd.url }}"
                                    class="d-block w-100 ratio ratio-19x9 rounded-3 zoom-card-carrusel"
                                    alt="Banner {{ videojuego.nombre }}"
                                />
                            </a>
                        </div>
                        {% endif %}
                    {% endfor %}
                    
                </div>
                <button
                    class="carousel-control-prev z-1"
                    type="button"
                    data-bs-target="#carouselExample"
                    data-bs-slide="prev"
                >
                    <span
                        class="carousel-control-prev-icon"
                        aria-hidden="true"
                    ></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button
                    class="carousel-control-next z-1"
                    type="button"
                    data-bs-target="#carouselExample"
                    data-bs-slide="next"
                >
                    <span
                        class="carousel-control-next-icon"
                        aria-hidden="true"
                    ></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
    </article>



    <article class="container-xl my-5 p-0">
        <section
            class="text-white bg-moradoClaro rounded-3 p-3 mb-3 shadow-lg"
        >
            <h2 class="fs-4 fw-bold my-auto">Nuevos Lanzamientos</h2>
        </section>
  
        <div class="text-white bg-moradoClaro rounded-3 p-3 shadow-lg">
            <div
                class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4"
                id="grupo-cartas-2"
            >
                {% for videojuego in videojuegos %}
                    {% if forloop.counter <= 8 %}
                        {% include 'cards/videojuego_card_md.html' with videojuego=videojuego %}
                    {% endif %}
                {% endfor %}
            </div>
        </div>
    </article>



    <article class="container-xl my-5 p-0">
        <section
            class="text-white bg-moradoClaro rounded-3 p-3 mb-3 shadow-lg"
        >
            <h2 class="fs-4 fw-bold my-auto">Juegos Indie</h2>
        </section>


        <div class="text-white bg-moradoClaro rounded-3 p-3 shadow-lg">
            <div
                class="row row-cols-1 row-cols-lg-2 g-4"
            >
                {% for videojuego in videojuegos_indie %}
                    {% if forloop.counter <= 4 %}
                        {% include 'cards/videojuego_card_sp.html' with videojuego=videojuego %}
                    {% endif %}
                {% endfor %} 
            </div>
        </div>
    </article>



    <article class="container-xl my-5 p-0">
        <section
            class="text-white bg-moradoClaro rounded-3 p-3 mb-3 shadow-lg"
        >
            <h2 class="fs-4 fw-bold my-auto">Todos los Juegos</h2>
        </section>

        
        <div class="text-white bg-moradoClaro rounded-3 p-3 shadow-lg">
            <div
                class="row row-cols-2 row-cols-sm-3 row-cols-xl-6 g-3"
                id="grupo-cartas"
            >
                {% for videojuego in videojuegos %}
                    {% include 'cards/videojuego_card.html' with videojuego=videojuego %}
                {% endfor %}
            </div>
        </div>
    </article>



    <div
        name="Carro"
        class="offcanvas offcanvas-end bg-moradoOscuro text-white"
        tabindex="-1"
        id="offcanvasRight"
        aria-labelledby="offcanvasRightLabel"
    >
        <div class="offcanvas-header">
            <h5
                class="offcanvas-title fw-bold text-verdeBrillante fs-3"
                id="offcanvasRightLabel"
            >
                Carro de Compra
            </h5>
            <button
                type="button"
                class="btn-close"
                data-bs-dismiss="offcanvas"
                aria-label="Close"
            ></button>
        </div>

        <div id="carritoProductos" class="offcanvas-body"></div>

        <div class="d-grid gap-2 px-5 py-4">
            <button
                class="btn btn-primary bg-verdeBrillante text-black border-0 fs-5 fw-bold"
                type="submit"
                onclick="enviarCarrito()"
            >
                Comprar
            </button>
        </div>
    </div>
</main>

{% endblock %}
